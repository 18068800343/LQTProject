<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Document</title>
<link rel="stylesheet" href="../../font2/iconfont.css">
<link href="../../style/bootstrap.min.css" rel="stylesheet">
<link href="../../toastr/toastr.css" rel="stylesheet">
<link href="../../style/style.css" rel="stylesheet">
<link rel="stylesheet" href="../../style/jquery.dataTables.min.css">
<link rel="stylesheet" href="../../style/jquery-editable-select.css">
<link rel="stylesheet" type="text/css" href="../../easyUI/themes/default/easyui.css" />
<link rel="stylesheet" type="text/css" href="../../easyUI/themes/icon.css" />
<link rel="stylesheet" type="text/css" href="../../easyUI/demo/demo.css" />
<link rel="stylesheet" type="text/css" href="../../css/layui.css" />
<link rel="stylesheet" type="text/css" href="../../css/layui.mobile.css" />
<link rel="stylesheet" type="text/css" href="../../css/laydate.css" />
<link rel="stylesheet" type="text/css" href="../../css/code.css" />
<link rel="stylesheet" type="text/css" href="../../../js/skin/default/layer.css" />
<link rel="stylesheet" type="text/css" href="../../css/laydate.css" />
<style lang="">
body {
	background: #fff;
}

.UpperPart {
	display: flex;
	justify-content: space-between;
	border-bottom: 1px solid #ccc;
	padding-bottom: 12px;
}

.selected {
	background: rgba(247, 161, 3, 0.2);
}

#mainContent th {
	cursor: pointer;
}
</style>
</head>
<body>

	<!-- 面包屑 -->
	<div class="mianbao">
		<ul class="breadcrumb">
			<li>
				<i class="iconfont icon-knowledgebase"></i>
			</li>
			<li>沥青生产监控管理</li>
			<li class="active">生产计划管理</li>
		</ul>
	</div>

	<div>
		<!-- Nav tabs -->
		<ul class="nav nav-tabs" role="tablist" style="background: #fff;">
			<li role="presentation" class="active">
				<a href="#profile" aria-controls="profile" role="tab" data-toggle="tab">生产计划</a>
			</li>
			<li role="presentation">
				<a href="#messages" aria-controls="messages" role="tab" data-toggle="tab">施工路段偏差</a>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">

			<div role="tabpanel" class="tab-pane active" id="profile">
				<div class="zhuti-content">
					<div class="UpperPart">
						<div class="UpperPartL">
							<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal2" style="margin: 5PX; float: left;">录入生产计划</button>
						</div>
						<div class="UpperPartR">
							<button type="button" class="btn btn-primary" style="margin: 5PX;">导出Excel文件</button>
						</div>
					</div>
					<div class="LowerPart" style="margin-top: 3px;">
						<table class="table table-bordered table-condensed" id="mainContent" style="white-space: nowrap;">
							<thead>
								<tr>
									<th>路段编号</th>
									<th>路段名称</th>
									<th>标段号</th>
									<th>配方编号</th>
									<th>成品需要量（每日）</th>
									<th>干拌时间</th>
									<th>湿拌时间</th>
									<th>油石比</th>
									<th>成品温度要求</th>
									<th>到现场温度要求</th>
									<th>总价</th>
									<th>日期时间</th>
									<th>录入人</th>
									<th>操作</th>
								</tr>
							</thead>
							<!--<tr>
                        <td>
                            <i class="iconfont icon-icon-test" style="font-size:20px;cursor:pointer;" title="查看详细信息"  data-toggle="modal" data-target="#allMsg2"></i>
                            <i class="iconfont icon-xiugai" style="font-size:18px;cursor:pointer;" title="修改" data-toggle='modal' data-target='#change2'></i>
                            <i class="iconfont icon-shanchu" style="font-size:18px;cursor:pointer;" title="删除"></i>
                        </td>
                    </tr> -->
							</tbody>
						</table>
					</div>
				</div>
			</div>

			<div role="tabpanel" class="tab-pane" id="messages">
				<div class="zhuti-content">
					<div class="UpperPart">
						<div class="UpperPartL">
							<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal3" style="margin: 5PX; float: left;">录入施工路段偏差</button>
						</div>
						<div class="UpperPartR">
							<button type="button" class="btn btn-primary" style="margin: 5PX;">导出Excel文件</button>
						</div>
					</div>
					<div class="LowerPart" style="margin-top: 3px;">
						<table class="table table-bordered table-condensed" id="mainContent2" style="white-space: nowrap;">
							<thead>
								<tr>
									<th>序号</th>
									<th>料1偏差量</th>
									<th>料2偏差量</th>
									<th>料3偏差量</th>
									<th>料4偏差量</th>
									<th>料5偏差量</th>
									<th>料6偏差量</th>
									<th>最低温度偏差量</th>
									<th>最高温度偏差量</th>
									<th>现场温度偏差量</th>
									<th>出厂温度偏差量</th>
									<th>干拌用时偏差量</th>
									<th>湿拌用时偏差量</th>
									<th>4.75偏差量</th>
									<th>2.36偏差量</th>
									<th>0.075偏差量</th>
									<th>生产用时偏差</th>
									<th style="width: 75px;">操作</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td><i class="iconfont icon-icon-test" style="font-size: 20px; cursor: pointer;" title="查看详细信息" data-toggle="modal" data-target="#allMsg3"></i> <i
										class="iconfont icon-xiugai" style="font-size: 18px; cursor: pointer;" title="修改" data-toggle='modal' data-target='#change3'></i> <i
										class="iconfont icon-shanchu" style="font-size: 18px; cursor: pointer;" title="删除"></i></td>
								</tr>
								<tr>
									<td>2</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td><i class="iconfont icon-icon-test" style="font-size: 20px; cursor: pointer;" title="查看详细信息" data-toggle="modal" data-target="#allMsg3"></i> <i
										class="iconfont icon-xiugai" style="font-size: 18px; cursor: pointer;" title="修改" data-toggle='modal' data-target='#change3'></i> <i
										class="iconfont icon-shanchu" style="font-size: 18px; cursor: pointer;" title="删除"></i></td>
								</tr>
								<tr>
									<td>3</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td><i class="iconfont icon-icon-test" style="font-size: 20px; cursor: pointer;" title="查看详细信息" data-toggle="modal" data-target="#allMsg3"></i> <i
										class="iconfont icon-xiugai" style="font-size: 18px; cursor: pointer;" title="修改" data-toggle='modal' data-target='#change3'></i> <i
										class="iconfont icon-shanchu" style="font-size: 18px; cursor: pointer;" title="删除"></i></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- allMsg -->
	<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" id="allMsg3">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title" id="myModalLabel">
						<b>所有信息</b>
					</h4>
				</div>
				<div class="modal-body">
					<div>
						<form class="form-inline">
							<table class="table table-bordered table-condensed" style="height: 400PX;">
								<tr>
									<td style="width: 20%;">序号</td>
									<td>1</td>
								</tr>
								<tr>
									<td>路段</td>
									<td>1</td>
								</tr>
								<tr>
									<td>成品差</td>
									<td>1</td>
								</tr>
								<tr>
									<td>料1用量</td>
									<td>1</td>
								</tr>
								<tr>
									<td>料2用量</td>
									<td>1</td>
								</tr>
								<tr>
									<td>料3用量</td>
									<td>1</td>
								</tr>
								<tr>
									<td>料4用量</td>
									<td>1</td>
								</tr>
								<tr>
									<td>料5用量</td>
									<td>1</td>
								</tr>
								<tr>
									<td>料6用量</td>
									<td>1</td>
								</tr>
								<tr>
									<td>粉料偏差量</td>
									<td>1</td>
								</tr>
								<tr>
									<td>沥青偏差量</td>
									<td>1</td>
								</tr>
								<tr>
									<td>干拌时间</td>
									<td>2019-10-10 12:00:00</td>
								</tr>
								<tr>
									<td>油石比</td>
									<td>1</td>
								</tr>
								<tr>
									<td>湿拌时间</td>
									<td>2019-10-10 12:00:00</td>
								</tr>
								<tr>
									<td>级配</td>
									<td>1</td>
								</tr>
							</table>

						</form>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
				</div>
			</div>
		</div>
	</div>
	<!-- allMsg结束 -->
	<!-- 修改Modal -->
	<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" id="change">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title" id="myModalLabel">
						<b>修改配方信息</b>
					</h4>
				</div>
				<div class="modal-body">
					<div>
						<form class="form-inline">
							<table class="table table-bordered table-condensed" style="height: 400PX;">
								<tr>
									<td style="width: 20%;">序号</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>配方名称</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料1用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料2用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料3用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料4用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料5用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料6用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>粉料用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>沥青用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>附属材料</td>
									<td><select name="" style="width: 100%; height: 100%; border: none;">
											<option value="">请选择</option>
											<option value="">木质纤维</option>
											<option value="">玄武岩纤维</option>
											<option value="">抗车辙剂</option>
											<option value="">聚酯纤维</option>
											<option value="">高粘剂</option>
											<option value="">相变材料</option>
											<option value="">复合高模量剂</option>
										</select></td>
								</tr>
							</table>
						</form>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
					<button type="button" class="btn btn-success">保存</button>
				</div>
			</div>
		</div>
	</div>
	<!-- 修改model结束 -->
	<!-- Modal -->
	<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" id="myModal">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title" id="myModalLabel">
						<b>录入配方信息</b>
					</h4>
				</div>
				<div class="modal-body">
					<div>
						<form class="form-inline">
							<table class="table table-bordered table-condensed" style="height: 400PX;">
								<tr>
									<td style="width: 20%;">序号</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>配方名称</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料1用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料2用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料3用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料4用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料5用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料6用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>粉料用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>沥青用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>附属材料</td>
									<td><select name="" style="width: 100%; height: 100%; border: none;">
											<option value="">请选择</option>
											<option value="">木质纤维</option>
											<option value="">玄武岩纤维</option>
											<option value="">抗车辙剂</option>
											<option value="">聚酯纤维</option>
											<option value="">高粘剂</option>
											<option value="">相变材料</option>
											<option value="">复合高模量剂</option>
										</select></td>
								</tr>
							</table>
						</form>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
					<button type="button" class="btn btn-default">保存</button>
				</div>
			</div>
		</div>
	</div>
	<!-- model结束 -->
	<!-- allMsg -->
	<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" id="allMsg1">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title" id="myModalLabel">
						<b>所有信息</b>
					</h4>
				</div>
				<div class="modal-body">
					<div>
						<form class="form-inline">
							<table class="table table-bordered table-condensed" style="height: 400PX;">
								<tr>
									<td style="width: 20%;">序号</td>
									<td>1</td>
								</tr>
								<tr>
									<td>配方名称</td>
									<td>1</td>
								</tr>
								<tr>
									<td>料1用量</td>
									<td>1</td>
								</tr>
								<tr>
									<td>料2用量</td>
									<td>1</td>
								</tr>
								<tr>
									<td>料3用量</td>
									<td>1</td>
								</tr>
								<tr>
									<td>料4用量</td>
									<td>1</td>
								</tr>
								<tr>
									<td>料5用量</td>
									<td>1</td>
								</tr>
								<tr>
									<td>料6用量</td>
									<td>1</td>
								</tr>
								<tr>
									<td>粉料用量</td>
									<td>1</td>
								</tr>
								<tr>
									<td>沥青用量</td>
									<td>1</td>
								</tr>
								<tr>
									<td>附属材料</td>
									<td>聚酯纤维</td>
								</tr>
							</table>
						</form>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
				</div>
			</div>
		</div>
	</div>
	<!-- allMsg结束 -->
	<!-- Modal -->
	<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" id="myModal2">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content" id="NewShengChanJiHua">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title" id="myModalLabel">
						<b>录入生产计划数据</b>
					</h4>
				</div>
				<div class="modal-body">
					<div>
						<form class="form-inline">
							<table class="table table-bordered table-condensed" style="height: auto;">
								<tr>
									<td>生产计划编号</td>
									<td><input type="text" v-model="planno" id="planno" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
									<td>路段</td>
									<td><select class="form-control" @change="roadChange" style="width: 100%;" v-model="roadSelected" id="roadid">
											<option :value="road.roadno" v-for="road in roadList">{{road.sitename}}</option>
										</select></td>
								</tr>
								<tr>
									<td>标段</td>
									<td><select class="form-control" style="width: 100%;" v-model="rdnumberSelected" id="roadnumber">
											<option :value="item.id" v-for="item in rdnumberList">{{item.roadnumber}}</option>
										</select></td>
									<td>成品需要量</td>
									<td><input type="text" @blur="reg(pdneed,'xiaoshu','pdneed')" v-model="pdneed" id="pdneed" placeholder="请输入"
											style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>干拌时间</td>
									<td><input type="text" readonly="true" v-model="drymixingtime" id="drymixingtime" placeholder="请输入"
											style="width: 100%; height: 100%; border: none;"></td>
									<td>湿拌时间</td>
									<td><input type="text" readonly="true" v-model="wetmixingtime" id="wetmixingtime" placeholder="请输入"
											style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>油石比</td>
									<td><input type="text" @blur="reg(radio,'xiaoshu','radio')" v-model="radio" id="radio" placeholder="请输入"
											style="width: 100%; height: 100%; border: none;"></td>
									<td>成品温度要求</td>
									<td><input type="text" @blur="reg(pdtemp,'xiaoshu','pdtemp')" v-model="pdtemp" id="pdtemp" placeholder="请输入"
											style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>到现场温度要求</td>
									<td><input type="text" @blur="reg(arrivetemp,'xiaoshu','arrivetemp')" v-model="arrivetemp" id="arrivetemp" placeholder="请输入"
											style="width: 100%; height: 100%; border: none;"></td>
									<td>单价</td>
									<td><input type="text" @blur="reg(price,'xiaoshu','price')" v-model="price" id="price" placeholder="请输入"
											style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>配方</td>
									<td><select class="form-control" style="width: 100%;" v-model="recipeid" id="recipeid">
										</select></td>
									<td></td>
									<td></td>
								</tr>
							</table>
						</form>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>

					<button type="button" class="btn btn-default" v-on:click="save" id="saveShengChanJiHua">保存</button>
				</div>
			</div>
		</div>
	</div>
	<!-- model结束 -->
	<!-- allMsg -->
	<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" id="allMsg2">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title" id="myModalLabel">
						<b>所有信息</b>
					</h4>
				</div>
				<div class="modal-body">
					<div>
						<form class="form-inline">
							<table class="table table-bordered table-condensed" style="height: 400PX;">
								<tr>
									<td style="width: 20%;">路段编号</td>
									<td>1</td>
								</tr>
								<tr>
									<td>路段名称</td>
									<td>1</td>
								</tr>
								<tr>
									<td>标段号</td>
									<td>1</td>
								</tr>
								<tr>
									<td>路段经度</td>
									<td>1</td>
								</tr>
								<tr>
									<td>路段纬度</td>
									<td>1</td>
								</tr>
								<tr>
									<td>配方编号</td>
									<td>1</td>
								</tr>
								<tr>
									<td>成品需要量（每日）</td>
									<td>1</td>
								</tr>
								<tr>
									<td>干拌时间</td>
									<td>1</td>
								</tr>
								<tr>
									<td>湿拌时间</td>
									<td>1</td>
								</tr>
								<tr>
									<td>油石比</td>
									<td>1</td>
								</tr>
								<tr>
									<td>成品温度要求</td>
									<td>1</td>
								</tr>
								<tr>
									<td>到现场温度要求</td>
									<td>2019-10-10 12:00:00</td>
								</tr>
								<tr>
									<td>价格</td>
									<td>1</td>
								</tr>
								<tr>
									<td>日期时间</td>
									<td>2019-10-10 12:00:00</td>
								</tr>
							</table>
						</form>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
				</div>
			</div>
		</div>
	</div>
	<!-- allMsg结束 -->
	<!-- 修改Modal -->
	<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" id="change2">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title" id="myModalLabel">
						<b>修改生产数据计划</b>
					</h4>
				</div>
				<div class="modal-body">
					<div>
						<form class="form-inline">
							<table class="table table-bordered table-condensed" style="height: auto;">
								<tr>
									<td>生产计划编号</td>
									<td><input type="text" id="xg_planno" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
									<td>路段</td>
									<td><select class="form-control" style="width: 100%;" id="xg_roadid">
										</select></td>
								</tr>
								<tr>
									<td>标段</td>
									<td><select class="form-control" style="width: 100%;" id="xg_rdnumber">
										</select></td>
									<td>成品需要量</td>
									<td><input type="text" id="xg_pdneed" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>干拌时间</td>
									<td><input type="text" id="xg_drymixingtime" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
									<td>湿拌时间</td>
									<td><input type="text" id="xg_wetmixingtime" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>油石比</td>
									<td><input type="text" id="xg_radio" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
									<td>成品温度要求</td>
									<td><input type="text" id="xg_pdtemp" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>到现场温度要求</td>
									<td><input type="text" id="xg_arrivetemp" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
									<td>单价</td>
									<td><input type="text" id="xg_price" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>配方</td>
									<td><select class="form-control" style="width: 100%;" id="xg_recipeid">
										</select></td>
									<td></td>
									<td></td>
								</tr>
							</table>
						</form>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
					<button type="button" class="btn btn-success">保存</button>
				</div>
			</div>
		</div>
	</div>
	<!-- 修改model结束 -->

	<!-- 录入生产数据监控 -->
	<!-- Modal -->
	<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" id="myModal3">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title" id="myModalLabel">
						<b>录入生产数据监控</b>
					</h4>
				</div>
				<div class="modal-body">
					<div>
						<form class="form-inline">
							<table class="table table-bordered table-condensed" style="height: 400PX;">
								<tr>
									<td style="width: 20%;">序号</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>路段</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>成品差</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料1用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料2用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料3用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料4用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料5用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料6用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>粉料偏差量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>沥青偏差量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>干拌时间</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>油石比</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>湿拌时间</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>级配</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
							</table>
						</form>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
					<button type="button" class="btn btn-default">保存</button>
				</div>
			</div>
		</div>
	</div>
	<!-- model结束 -->

	<!-- 修改Modal -->
	<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" id="change3">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title" id="myModalLabel">
						<b>修改生产数据监控</b>
					</h4>
				</div>
				<div class="modal-body">
					<div>
						<form class="form-inline">
							<table class="table table-bordered table-condensed" style="height: 400PX;">
								<tr>
									<td style="width: 20%;">序号</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>路段</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>成品差</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料1用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料2用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料3用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料4用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料5用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>料6用量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>粉料偏差量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>沥青偏差量</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>干拌时间</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>油石比</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>湿拌时间</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
								<tr>
									<td>级配</td>
									<td><input type="text" id="" placeholder="请输入" style="width: 100%; height: 100%; border: none;"></td>
								</tr>
							</table>

						</form>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
					<button type="button" class="btn btn-success">保存</button>
				</div>
			</div>
		</div>
	</div>
	<!-- 修改model结束 -->
</body>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.staticfile.org/vue-resource/1.5.1/vue-resource.min.js"></script>
<script src="../../js/jquery.js"></script>
<script src="../../js/common-scripts.js"></script>
<script src="../../js/jquery.dataTables.min.js"></script>
<script src="../../toastr/toastr.js"></script>
<script src="../../js/bootstrap.min.js"></script>
<script src="../../js/jquery-editable-select.js"></script>
<script src="../../easyUI/jquery.easyui.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js"></script>
<script src="../../js/laydate/laydate.js"></script>
<script src="../../js/layui.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/element.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/echarts.min.js" type="text/javascript" charset="utf-8"></script>
<script>
    $(document).ready( function () {
    	$("#channeng").trigger("change");
    	initTable();
    });
    
    var table=$('#mainContent').DataTable({
        "deferRender": true,
        "processing": true,
        "bDestroy": true,
        "iDisplayLength": 10,
        "searching": true,
        "lengthChange": false,
        "oLanguage": {
		    "sSearch": '<span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>'
		},
        "order": [[0, 'asc']],
		"columns": [
            { "data": "roadno"}, 
            { "data": "sitename"}, 
            { "data": "roadnumber"}, 
            { "data": "flno"}, 
            { "data": "pdneed"}, 
            { "data": "drymixingtime"}, 
            { "data": "wetmixingtime"}, 
            { "data": "radio"}, 
            { "data": "pdtemp"}, 
            { "data": "arrivetemp"}, 
            { "data": "price"},
            { "data": "datetime"},
            { "data": "uname"},
            { "data": "planid"},
        ],
        "columnDefs": [
						 {	
						 	"class": "tcenter",
						    "targets": 13,
						    "searchable": true,
						    "render": function(data, type, full) {
						    	var xiangqing= '<i class="iconfont icon-icon-test" style="font-size:20px;cursor:pointer;" title="查看偏差信息"  data-toggle="modal" data-target="#allMsg2"></i>'
						    	var xiugai='<i class="iconfont icon-xiugai" style="font-size:18px;cursor:pointer;" title="修改" data-toggle="modal" data-target="#change2"></i>'
						    	var qiyong='<i class="iconfont icon-shanchu" style="font-size:18px;cursor:pointer;" title="删除"></i>'
					    		return xiangqing+xiugai+qiyong;
				    	    }
					    }
					  ],
		//让表格出横向滚动条 ，此时 表头和 表中数据将分为两个部分
        "sScrollX":true,
         // 让表格的宽度不自适应 ，固定宽度。 如果不设置 表头和表中数据会分离
          //表中的数据自适应 ，表头的宽度固定
        "bAutoWidth":true,
        "oLanguage": { //国际化配置
        "sProcessing": "正在获取数据，请稍后...",
        "sLengthMenu": "显示 _MENU_ 条",
        "sZeroRecords": "查询不到相关数据",
        "sInfo": "从 _START_ 到  _END_ 条记录 总记录数为 _TOTAL_ 条",
        "sInfoEmpty": "记录数为0",
        "sInfoFiltered": "(全部记录数 _MAX_ 条)",
        "sInfoPostFix": "",
        "sSearch": "搜索",
        "sUrl": "",
        "oPaginate": {
            "sFirst": "第一页",
            "sPrevious": "上一页",
            "sNext": "下一页",
            "sLast": "最后一页"
        }},
	});
    var table2=$('#mainContent2').DataTable({
        "deferRender": true,
        "processing": true,
        "bDestroy": true,
        "iDisplayLength": 10,
        "searching": true,
        "lengthChange": false,
        "oLanguage": {
		    "sSearch": '<span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>'
		},
        "order": [[0, 'asc']],
        "oLanguage": { //国际化配置
        "sProcessing": "正在获取数据，请稍后...",
        "sLengthMenu": "显示 _MENU_ 条",
        "sZeroRecords": "查询不到相关数据",
        "sInfo": "从 _START_ 到  _END_ 条记录 总记录数为 _TOTAL_ 条",
        "sInfoEmpty": "记录数为0",
        "sInfoFiltered": "(全部记录数 _MAX_ 条)",
        "sInfoPostFix": "",
        "sSearch": "搜索",
        "sUrl": "",
        "oPaginate": {
            "sFirst": "第一页",
            "sPrevious": "上一页",
            "sNext": "下一页",
            "sLast": "最后一页"
        }},
        
	});
	
	 
	function initTable(){
        $.ajax({
            type: 'POST',
            url: '/ShengChanJiHua/getAllShengChanJiHua',
            dataType: 'json',
            data: {
            },
            error: function (msg) {
                errMessage("请求UserController失败");
            },
            success: function (json) {
                $("#mainContent").dataTable().fnClearTable();
                $("#mainContent").DataTable().rows.add(json).draw(false);
            }
        });
    }
	
	//全局正则KV集合
	var regMap = {
			xiaoshu: '^[0-9]+\.?[0-9]*$'
	}
	//全局错误提示
	var errMsg = {
			radio:'油石比输入错误，请输入纯数字',
			pdtemp:'成品温度要求输入错误，请输入纯数字',
			arrivetemp:'到现场温度要求输入错误，请输入纯数字',
			price:'单价输入错误，请输入纯数字',
			pdneed:'成品需要量输入错误，请输入纯数字',
	}
	//新建生产计划
	var app5 = new Vue({
	  el: '#NewShengChanJiHua',
	  //表单数据
	  data: {
		  planno:"",
		  roadid:"",
		  roadnumber:"",
		  //成品需要量
		  pdneed:"",
		  drymixingtime:"",
		  wetmixingtime:"",
		  //油石比
		  radio:"",
		  //成品温度要求
		  pdtemp:"",
 		  //到现场温度要求
		  arrivetemp:"",
		  //单价
		  price:"",
		  // 配方编号
		  recipeid:"",
		  roadList:'',
       	  roadSelected:'',
       	  rdnumberList:'',
       	  rdnumberSelected:'',
	  },
	  methods: {
		//新建生产计划保存按钮事件
	    save: function () {
            //发送 post 请求  then中第一个function或者箭头函数为success回调函数, 第二个function为失败fail回调函数
            this.$http.post('/ShengChanJiHua/addShengChanJiHua',JSON.stringify(this._data),{}).then((res)=>{
            	
            },(res)=>{
            	
            });
	    },
	    reg:function(value,regType,id){
	    	var re = new RegExp(regMap[regType]);
	    	var flag;
    		flag = reg(parseFloat(value),re);
    		if(null!=value&&''!=value){
		    	if(!flag){
		    		app5[id]="";
		    		toastr.error(errMsg[id]);
    		    }
    		}
	    },
        roadPost:function(){
            //发送 post 请求  then中第一个function或者箭头函数为success回调函数, 第二个function为失败fail回调函数
            this.$http.post('/TanPuDiDianGuanLi/getDistinctTanPuDiDian',{},{emulateJSON:true}).then((res)=>{
            	this.roadList=res.body;
            	this.roadSelected=app5.roadList[0].roadno;
            	//初始化路段时,同时初始化标段
            	this.roadChange();
            },(res)=>{
                console.log(res.status);
            });
        },
        roadChange:function(){
        	
       	 	this.$http.post('/TanPuDiDianGuanLi/getBiaoDuanByLuDuan',{'roadno':this.roadSelected},{emulateJSON:true}).then((res)=>{
            	this.rdnumberList=res.body;
            	this.rdnumberSelected=this.rdnumberList[0].id;
            	this.roadid=this.rdnumberSelected;
            },(res)=>{
                console.log(res.status);
            });
        }
	  }
	})
	//初始化下拉框路段
	app5.roadPost();
	
	laydate.render({
        elem: '#drymixingtime', //指定元素
	    type: 'time',
		done: function(value, date){
			app5.drymixingtime=value;
	    }
    });
	
	laydate.render({
        elem: '#wetmixingtime', //指定元素
        type: 'time',
		done: function(value, date){
			app5.wetmixingtime=value;
	    }
    });
	
	function reg(str,re){
		if (re.test(str)) {
			return true;
		} else {
			return false;
		}
	}
	
</script>
</html>