<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="../../font2/iconfont.css">
    <link href="../../style/bootstrap.min.css" rel="stylesheet">
    <link href="../../style/style.css" rel="stylesheet">
    <link rel="stylesheet" href="../../style/jquery.dataTables.min.css">
    <link rel="stylesheet" href="../../style/jquery-editable-select.css">
    <link rel="stylesheet" type="text/css" href="../../easyUI/themes/default/easyui.css"/>
    <link rel="stylesheet" type="text/css" href="../../easyUI/themes/icon.css"/>
    <link rel="stylesheet" type="text/css" href="../../easyUI/demo/demo.css"/>
    <link rel="stylesheet" type="text/css" href="../../css/layui.css"/>
    <link rel="stylesheet" type="text/css" href="../../css/layui.mobile.css"/>
    <link rel="stylesheet" type="text/css" href="../../css/laydate.css"/>
    <link rel="stylesheet" type="text/css" href="../../css/code.css"/>
    <link rel="stylesheet" type="text/css" href="../../../js/skin/default/layer.css"/>
    <link rel="stylesheet" type="text/css" href="../../css/laydate.css"/>
    <link href="../../toastr/toastr.css" rel="stylesheet">
    <!-- SmartAdmin Styles : Caution! DO NOT change the order -->
    <link rel="stylesheet" type="text/css" media="screen" href="../../css/smartadmin-production-plugins.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="../../css/smartadmin-production.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="../../css/smartadmin-skins.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="../../css/font.css">
    <!-- SmartAdmin RTL Support  -->
    <link rel="stylesheet" type="text/css" media="screen" href="../../css/smartadmin-rtl.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="../../css/all.css">
    <style lang="">
       .UpperPart{
            display: flex;
            justify-content:space-between;
            /* border-bottom: 1px solid #ccc; */
            height:0px;
            padding-bottom: 12px;
        }
        .selected{
            background: rgba(247, 161, 3,0.2);
        }
        #mainContent th{
            cursor: pointer;
        }
    </style>
</head>
<body>
   
    <!-- 面包屑 -->
    <div class="mianbao">
    	<ul class="breadcrumb">
    		<li><i class="iconfont icon-knowledgebase"></i></li>
			<li>沥青生产质量管理</li>
			<li class="active">成本及进度管理</li>
		</ul>
    </div>
 <div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
<ul class="layui-tab-title" role="tablist" style="background: #fff;">
    <li role="presentation" class="active  layui-this">
        <a href="#profile" aria-controls="profile" role="tab" data-toggle="tab">废料比通过率</a>
    </li>
    <li role="presentation">
        <a href="#messages" aria-controls="messages" role="tab" data-toggle="tab">废料比折线图</a>
    </li>
    <!--<li role="presentation">
        <a href="#week" aria-controls="week" role="tab" data-toggle="tab">每周产能折线图</a>
    </li>
    <li role="presentation">
        <a href="#month" aria-controls="month" role="tab" data-toggle="tab">每月产能折线图</a>
    </li>-->
    <li role="presentation">
        <a href="#dayCount" aria-controls="dayCount" role="tab" data-toggle="tab">每日配料统计</a>
    </li>
    <li role="presentation">
        <a href="#weekCount" aria-controls="weekCount" role="tab" data-toggle="tab">每周产能统计</a>
    </li>
    <li role="presentation">
        <a href="#monthCount" aria-controls="monthCount" role="tab" data-toggle="tab">每月产能统计</a>
    </li>
</ul>
</div>
<div class="tab-content" style="margin-top:-10px;">
 <div role="tabpanel" class="tab-pane active" id="profile">
    <div class="zhuti-content">
        <div class="UpperPart">
            <div class="UpperPartL">
                <!--<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal" style="margin: 5PX;">录入产能信息</button>-->
                <div id="tabBtn" style="margin-left: 10px;margin-top: 1%;"></div>
            </div>
            <div class="UpperPartR">
            </div>
        </div>
        <div class="LowerPart" style="margin-top:25px;">
            <table class="layui-table" lay-skin="line" id="mainContent">
                <thead>
                   <tr style="background-color:#EBF4FF;border-bottom:none;background-image:none;">
                       <th>日期</th>
                       <th>日供料计划(kg)</th>
                       <th>日实际产能(kg)</th>
                       <th>每日废料(吨)</th>
                       <th>废料比(%)</th>

                   </tr>
                </thead>
                <tbody>

                </tbody>   
            </table>
            <div id="cbjdtj" class="rightsec col-xs-4" style="float: right;background-color: white;margin-right: 2%;height: 380px;width: 100%;position: absolute;margin-top: 1%;">
                <div class="title3" style="margin-left: 1%;padding-top: 2%;">
                    <img src="../../images/dec.png" />
                    <p style="display: inline-block;color: #1897e8;font-size: 15px;font-weight: bold;margin-left: 1%;">成本及进度管理统计</p>
                    <!--<input type="date" name="" id="" value="" / style="float: right;height: 25px;">-->
                </div>
                <!--标题结束-->
                <div id="chart3" style="width:100%; height: 350px;"></div>

            </div>
        </div>

    </div>
    </div>
     <div role="tabpanel" class="tab-pane" id="messages">
        <!--<div class="layui-tab-item weadmin-body">-->
        <div class="zhuti-content">
            <div class="UpperPart">
               
                <div class="UpperPartR">

                </div>
            </div>
        </div>
        <div class="LowerPart" style="background-color: #ffffff; ">
            <!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->
            <div id="chengbenecharts" style="width: 1500px;height:600px;z-index:5;" ></div>
        </div>
    </div>
    <!--<div role="tabpanel" class="tab-pane" id="week">
        &lt;!&ndash;<div class="layui-tab-item weadmin-body">&ndash;&gt;
        <div class="zhuti-content">
            <div class="UpperPart">

                <div class="UpperPartR">

                </div>
            </div>
        </div>
        <div class="LowerPart" style="background-color: #ffffff; ">
            &lt;!&ndash; 为 ECharts 准备一个具备大小（宽高）的 DOM &ndash;&gt;
            <div id="weekchanneng" style="width: 1500px;height:600px;z-index:5;" ></div>
        </div>
    </div>-->
    <!--<div role="tabpanel" class="tab-pane" id="month">
        &lt;!&ndash;<div class="layui-tab-item weadmin-body">&ndash;&gt;
        <div class="zhuti-content">
            <div class="UpperPart">

                <div class="UpperPartR">

                </div>
            </div>
        </div>
        <div class="LowerPart" style="background-color: #ffffff; ">
            &lt;!&ndash; 为 ECharts 准备一个具备大小（宽高）的 DOM &ndash;&gt;
            <div id="monthchanneng" style="width: 1500px;height:600px;z-index:5;"></div>
        </div>
    </div>-->


    <div role="tabpanel" class="tab-pane" id="dayCount">
        <div class="zhuti-content">
            <div class="UpperPart">
                <div class="UpperPartL">
                    <input type="text" data-toggle="modal" id="reservation" style="margin: 5PX;">
                    <button type="button" class="btn btn-primary Pdbb" data-toggle="modal" id="queryDayCount"
                            onclick="queryDayCount()" style="margin: 5PX;">确定
                    </button>
                </div>
                <div class="UpperPartR">
                    <!--<button type="button" class="btn btn-primary" style="margin: 5PX;">导出Excel文件</button>-->
                </div>
            </div>
            <div class="LowerPart" style="margin-top:15px;">
                <table class="layui-table" lay-skin="line" id="mainContentDay">
                    <thead>
                    <tr style="background-color:#EBF4FF;border-bottom:none;background-image:none;">
                        <th>日期</th>
                        <th>用料类型(kg)</th>
                        <th>日实际产能(kg)</th>
                        <th>每日废料(吨)</th>
                    </tr>
                    </thead>
                    <tbody>

                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div role="tabpanel" class="tab-pane" id="weekCount">
        <div class="zhuti-content">
            <div class="UpperPart">
                <div class="UpperPartL">
                    <!--<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal" style="margin: 5PX;">录入产能信息</button>-->
                </div>
                <div class="UpperPartR">
                    <!--<button type="button" class="btn btn-primary" style="margin: 5PX;">导出Excel文件</button>-->
                </div>
            </div>
            <div class="LowerPart" style="margin-top:3px;">
                <table class="layui-table" lay-skin="line" id="mainContentWeek">
                    <thead>
                    <tr style="background-color:#EBF4FF;border-bottom:none;background-image:none;">
                        <th>日期</th>
                        <th>周实际产能(吨)</th>
                    </tr>
                    </thead>
                    <tbody>

                    </tbody>
                </table>
            </div>
        </div>
        <div class="LowerPart" style="background-color: #ffffff; ">
            <!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->
            <div id="weekchanneng" style="width: 1500px;height:600px;z-index:5;" ></div>
        </div>
    </div>

    <div role="tabpanel" class="tab-pane" id="monthCount">
        <div class="zhuti-content">
            <div class="UpperPart">
                <div class="UpperPartL">
                    <!--<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal" style="margin: 5PX;">录入产能信息</button>-->
                </div>
                <div class="UpperPartR">
                    <!--<button type="button" class="btn btn-primary" style="margin: 5PX;">导出Excel文件</button>-->
                </div>
            </div>
            <div class="LowerPart" style="margin-top:3px;">
                <table class="layui-table" lay-skin="line" id="mainContentMonth">
                    <thead>
                    <tr style="background-color:#EBF4FF;border-bottom:none;background-image:none;">
                        <th>日期</th>
                        <th>月实际产能(吨)</th>
                    </tr>
                    </thead>
                    <tbody>

                    </tbody>
                </table>
            </div>
        </div>
        <div class="LowerPart" style="background-color: #ffffff; ">
            <!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->
            <div id="monthchanneng" style="width: 1500px;height:600px;z-index:5;"></div>
        </div>
    </div>
</div>
<!-- allMsg结束 -->
</body>
<script src="../../js/jquery.js"></script>
<script src="../../js/common-scripts.js"></script>
<script src="../../js/bootstrap.min.js"></script>
<script src="../../js/jquery.dataTables.min.js"></script>
<script src="../../js/echarts.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/laydate/laydate.js"></script>
<script src="../../js/layui.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/element.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/myEcharts.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/homeEchars.js" type="text/javascript" charset="utf-8"></script>
<script src="../../toastr/toastr.js"></script>
<script src="../../js/myTool.js"></script>
<!--导出CSV开始-->
<script src="../../js/datatables/jquery.dataTables.min.js"></script>
<script src="../../js/datatables/dataTables.colVis.min.js"></script>
<script src="../../js/datatables/dataTables.tableTools.min.js"></script>
<script src="../../js/datatables/datatables.responsive.min.js"></script>
<script src="../../js/datatables/dataTables.buttons.min.js" ></script>
<script src="../../js/datatables/buttons.html5.min.js" ></script>
<script src="../../js/datatables/buttons.flash.min.js" ></script>
<script src="../../js/datatables/jszip.min.js"></script>
<!--导出CSV结束-->
<script>

    var names = [];
    var nums = [];
    $(document).ready(function () {
        initTable()
        getEcahrsData3()
        initWeek();
        initMonth();
        //初始化选择框时间
        let day1 = new Date();
        let s1 = day1.getFullYear() + "-" + (day1.getMonth() + 1) + "-" + day1.getDate();
        $("#reservation").val(s1);
        queryDayCount();
        queryWeekCount();
        queryMonthCount();
    });

    let startTime = {
        elem: '#reservation',
        type: 'date',
    };
    laydate.render(startTime);

    var table = $('#mainContent').DataTable({
        "deferRender": true,
        "processing": true,
        "bDestroy": true,
        "iDisplayLength": 10,
        "searching": true,
        "lengthChange": false,
        "oLanguage": {
            "sSearch": '<span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>'
        }, "columns": [
            {"data": "datetime"},
            { "data": "pdNeed"},
            { "data": "chenneng"},
            { "data": "feiliao"},
            { "data": "feiliaobi"},
        ],
        "order": [[0, 'desc']],
        "oLanguage": { //国际化配置
        "sProcessing": "正在获取数据，请稍后...",
        "sLengthMenu": "显示 _MENU_ 条",
        "sZeroRecords": "查询不到相关数据",
        "sInfo": "从 _START_ 到  _END_ 条记录 总记录数为 _TOTAL_ 条",
        "sInfoEmpty": "记录数为0",
        "sInfoFiltered": "(全部记录数 _MAX_ 条)",
        "sInfoPostFix": "",
        "sSearch": "搜索",
        "sUrl": "",
        "oPaginate": {
            "sFirst": "第一页",
            "sPrevious": "上一页",
            "sNext": "下一页",
            "sLast": "最后一页"
        }},
        "buttons": [
            {
                extend: "csv",
                text: "导出Excel",
                bom: true,
                filename: '成本及进度',
                fieldSeparator: ',',
                exportOptions: {
                    format: {
                        header: function ( data) {
                            return data;
                        },
                        body: function ( data, columnIdx, rowIdx, code ) {
                            return data;
                        }
                    },
                    columns:[0,1,2,3,4]
                }
            }
        ]
	});
    table.buttons().container().appendTo( $('#tabBtn') );
    $('.buttons-csv').addClass('btn btn-primary');

    function showMask() {
        myTool.mask.show('查询中...');
    }
    function hidMask() {
        myTool.mask.hide();
    }

	function initTable(){
        showMask()
        $.ajax({
            type: 'POST',
            url: '/ChenBenJinDu/getAllChenBenJinDu',
            dataType: 'json',
            data: {
            },
            error: function (msg) {
                errMessage("请求UserController失败");
            },
            success: function (json) {
                hidMask()
                $('#mainContent').dataTable().fnClearTable();
                $('#mainContent').DataTable().rows.add(json).draw(false);
            	for (var i = 0; i < json.length; i++) {
    				names.push(json[i].datetime);
    				nums.push(json[i].feiliaobi);
    			}
            	cbecharts(names,nums)
            }
        });
    }

    function getEcahrsData3(){
        $.ajax({
            type: 'POST',
            url: '/ChenBenJinDu/getAllChenBenJinDu',
            dataType: 'json',
            data: {

            },
            error: function (msg) {
                errMessage("请求UserController失败");
            },
            success: function (json) {

                var datetime=[]
                var chenneng=[]
                var feiliao=[]
                if(json!=null&&json.length!=0){
                    for(var i=0;i<json.length;i++){
                        datetime.push(json[i].datetime)
                        chenneng.push(json[i].chenneng)
                        feiliao.push(json[i].feiliao)
                    }
                }
                initMychart3(datetime,chenneng,feiliao);
            }
        });
    }

    function initMychart3(datetime,chenneng,feiliao) {
        var chart = echarts.init(document.getElementById('chart3'));
        // 使用刚指定的配置项和数据显示图表。
        let option = setHomeCBJDTJ(datetime,chenneng,feiliao);
        chart.setOption(option);
    }


	function cbecharts(datetime,feiliaobi) {
		var myChart = echarts.init(document.getElementById('chengbenecharts'));
		var option = {
				title: {
					text: '堆叠区域图'
				},
				tooltip: {
					trigger: 'axis',
					axisPointer: {
						type: 'cross',
						label: {
							backgroundColor: '#6a7985'
						}
					}
				},
				toolbox: {
					feature: {
						saveAsImage: {}
					}
				},
				grid: {
					left: '3%',
					right: '4%',
					bottom: '3%',
					containLabel: true
				},
				xAxis: [{
					data:datetime
				}],
				yAxis: [{		
					type: 'value'

				}],
				series: [{
					type: 'line',
                    data:feiliaobi,

				}, ]
			};
			


		// 使用刚指定的配置项和数据显示图表。
		myChart.setOption(option);
	}



	function initWeek(){
        $.ajax({
            type: 'POST',
            url: '/ChenBenJinDu/getchannengWeek',
            dataType: 'json',
            data: {
            },
            error: function (msg) {
                errMessage("请求失败");
            },
            success: function (json) {
                var channeng=[];
                var date=[]
                for (var i = 0; i < json.length; i++) {
                    date.push(json[i].datetime);
                    channeng.push(json[i].chenneng);
                }
                cbechartsWeek(date,channeng)
            }
        });
    }
    function cbechartsWeek(date,chenneng) {
        var myChart = echarts.init(document.getElementById('weekchanneng'));
        var option = {

            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    label: {
                        backgroundColor: '#6a7985'
                    }
                }
            },
            toolbox: {
                feature: {
                    saveAsImage: {}
                }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: [{
                data:date,
                axisLabel : {
                    formatter: function (params) {
                        let newParamsName = "";
                        let paramsNameNumber = params.length;
                        let provideNumber = 11;
                        let rowNumber = Math.ceil(paramsNameNumber / provideNumber);
                        if (paramsNameNumber > provideNumber) {
                            for (let p = 0; p < rowNumber; p++) {
                                let tempStr = "";
                                let start = p * provideNumber;
                                let end = start + provideNumber;
                                if (p == rowNumber - 1) {
                                    tempStr = params.substring(start, paramsNameNumber);
                                } else {
                                    tempStr = params.substring(start, end) + "\n";
                                }
                                newParamsName += tempStr;
                            }

                        } else {
                            newParamsName = params;
                        }
                        return newParamsName
                    }
                }
            }],
            yAxis: [{
                type: 'value',
                name: 'kg',
            }],
            series: [{
                type: 'line',
                data:chenneng,

            }, ]
        };
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    }

function initMonth(){
    $.ajax({
        type: 'POST',
        url: '/ChenBenJinDu/getchannengMonth',
        dataType: 'json',
        data: {

        },
        error: function (msg) {
            errMessage("请求失败");
        },
        success: function (json) {
            var channeng=[];
            var date=[]
            for (var i = 0; i < json.length; i++) {
                date.push(json[i].datetime);
                channeng.push(json[i].chenneng);
            }
            cbechartsMonth(date,channeng)
        }
    });
}
function cbechartsMonth(date,chenneng) {
    var myChart = echarts.init(document.getElementById('monthchanneng'));
    var option = {

        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                label: {
                    backgroundColor: '#6a7985'
                }
            }
        },
        toolbox: {
            feature: {
                saveAsImage: {}
            }
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis: [{
            data:date
        }],
        yAxis: [{
            type: 'value',
            name: 'kg'
        }],
        series: [{
            type: 'line',
            data:chenneng,

        }, ]
    };
    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);
}


    function getCreat(bb){
        var EnterpriseRating= $(bb).parent().prev().text();
        var Remarks= $(bb).parent().prev().prev().text();
        var ContactPhone1= $(bb).parent().prev().prev().prev().text();
        var Contacts= $(bb).parent().prev().prev().prev().prev().text();
        var address= $(bb).parent().prev().prev().prev().prev().prev().text();
        var ProprietorUnit= $(bb).parent().prev().prev().prev().prev().prev().prev().text();
        var Code= $(bb).parent().prev().prev().prev().prev().prev().prev().prev().text();
        $("#CEnterprise-rating").val(EnterpriseRating);
        $("#CRemarks").val(Remarks);
        $("#CContact-phone1").val(ContactPhone1);
        $("#CContacts").val(Contacts);
        $("#Caddress").val(address);
        $("#CProprietor-unit").val(ProprietorUnit);
        $("#CCode").val(Code);
        rowIndex = bb.parentNode.parentNode.rowIndex;
    }


    let tableDayCount = $('#mainContentDay').dataTable({
        "deferRender": true,
        "processing": true,
        "bDestroy": true,
        "iDisplayLength": 10,
        "searching": true,
        "lengthChange": false,
        "oLanguage": {
            "sSearch": '<span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>'
        }, "columns": [
            {"data": "datetime"},
            {"data": "peifangName"},
            {"data": "weight"},
            {"data": "feiliao"},
        ],
        "order": [[0, 'desc']],
        "oLanguage": { //国际化配置
            "sProcessing": "正在获取数据，请稍后...",
            "sLengthMenu": "显示 _MENU_ 条",
            "sZeroRecords": "查询不到相关数据",
            "sInfo": "从 _START_ 到  _END_ 条记录 总记录数为 _TOTAL_ 条",
            "sInfoEmpty": "记录数为0",
            "sInfoFiltered": "(全部记录数 _MAX_ 条)",
            "sInfoPostFix": "",
            "sSearch": "搜索",
            "sUrl": "",
            "oPaginate": {
                "sFirst": "第一页",
                "sPrevious": "上一页",
                "sNext": "下一页",
                "sLast": "最后一页"
            }
        },

    });

    function queryDayCount() {
        $.ajax({
            type: 'POST',
            url: '/ChenBenJinDu/getDayCount',
            dataType: 'json',
            data: {
                dateTime: $("#reservation").val()
            },
            error: function (msg) {
            },
            success: function (json) {
                console.log(json)
                $('#mainContentDay').dataTable().fnClearTable();
                $('#mainContentDay').DataTable().rows.add(json).draw(false);
            }
        });
    }

    let tableWeekCount = $('#mainContentWeek').dataTable({
        "deferRender": true,
        "processing": true,
        "bDestroy": true,
        "iDisplayLength": 10,
        "searching": true,
        "lengthChange": false,
        "oLanguage": {
            "sSearch": '<span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>'
        }, "columns": [
            {"data": "datetime"},
            {"data": "chenneng"},
        ],
        "order": [[0, 'desc']],
        "oLanguage": { //国际化配置
            "sProcessing": "正在获取数据，请稍后...",
            "sLengthMenu": "显示 _MENU_ 条",
            "sZeroRecords": "查询不到相关数据",
            "sInfo": "从 _START_ 到  _END_ 条记录 总记录数为 _TOTAL_ 条",
            "sInfoEmpty": "记录数为0",
            "sInfoFiltered": "(全部记录数 _MAX_ 条)",
            "sInfoPostFix": "",
            "sSearch": "搜索",
            "sUrl": "",
            "oPaginate": {
                "sFirst": "第一页",
                "sPrevious": "上一页",
                "sNext": "下一页",
                "sLast": "最后一页"
            }
        },

    });


    function queryWeekCount() {
        $.ajax({
            type: 'POST',
            url: '/ChenBenJinDu/getchannengWeek',
            dataType: 'json',
            data: {
                dateTime: $("#reservation").val()
            },
            error: function (msg) {
            },
            success: function (json) {
                console.log(json)
                $('#mainContentWeek').dataTable().fnClearTable();
                $('#mainContentWeek').DataTable().rows.add(json).draw(false);
            }
        });
    }

    let tableMonthCount = $('#mainContentMonth').dataTable({
        "deferRender": true,
        "processing": true,
        "bDestroy": true,
        "iDisplayLength": 10,
        "searching": true,
        "lengthChange": false,
        "oLanguage": {
            "sSearch": '<span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>'
        }, "columns": [
            {"data": "datetime"},
            {"data": "chenneng"},
        ],
        "order": [[0, 'desc']],
        "oLanguage": { //国际化配置
            "sProcessing": "正在获取数据，请稍后...",
            "sLengthMenu": "显示 _MENU_ 条",
            "sZeroRecords": "查询不到相关数据",
            "sInfo": "从 _START_ 到  _END_ 条记录 总记录数为 _TOTAL_ 条",
            "sInfoEmpty": "记录数为0",
            "sInfoFiltered": "(全部记录数 _MAX_ 条)",
            "sInfoPostFix": "",
            "sSearch": "搜索",
            "sUrl": "",
            "oPaginate": {
                "sFirst": "第一页",
                "sPrevious": "上一页",
                "sNext": "下一页",
                "sLast": "最后一页"
            }
        },

    });


    function queryMonthCount() {
        $.ajax({
            type: 'POST',
            url: '/ChenBenJinDu/getchannengMonth',
            dataType: 'json',
            data: {
                dateTime: $("#reservation").val()
            },
            error: function (msg) {
            },
            success: function (json) {
                console.log(json)
                $('#mainContentMonth').dataTable().fnClearTable();
                $('#mainContentMonth').DataTable().rows.add(json).draw(false);
            }
        });
    }
    
</script>
</html>